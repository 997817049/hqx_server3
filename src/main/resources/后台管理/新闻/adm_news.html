<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no">
    <title>新闻文章管理</title>
    <link rel="stylesheet" type="text/css" href="../public/layui/css/layui.css">
    <link href="../public/css/common.css" type="text/css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="../public/css/nav.css">
    <link rel="stylesheet" type="text/css" href="../public/css/iconfont.css">
    <script src="../public/js/jquery-3.2.1.min.js"></script>
    <script src="../public/layui/layui.js"></script>
    <script src="../public/js/alert.js"></script>
    <script src="../public/js/echarts.min.js"></script>
</head>

<body>
<!-- 头部导航 -->
<div class="jzy_w_max jzy_h_50 br_12">
    <!-- LOGO -->
    <div class="jzy_w_50 jzy_h_50 br_12 br_11_hove lt logo">
        <a href=""><img src="../public/images/aliyun.png"></a>
    </div>
    <!--菜单1-->
    <div class="jzy_w_90 jzy_h_50 br_12 br_11_hove lt top-txt">
        <a class="cr_h_0 fs_14" href="">管理控制台</a>
    </div>

    <!--头像-->
    <div class="jzy_w_50 jzy_h_50 br_12 br_11_hove rt top-txt logo">
        <img class="jzy_boy_18" src="../public/images/touxiang.jpg" width="36" height="36">
        <!-- 头像下拉菜单 -->
        <div class="jzy_w_270 jzy_h_408 br_h_0 top_nav">
            <!--头像跟用户名-->
            <div class="jzy_w_max jzy_h_50 lt" style="margin-top: 15px"><img class="jzy_boy_18"
                                                                             src="../public/images/touxiang.jpg"
                                                                             width="36" height="36"></div>
            <div class="jzy_w_max jzy_h_30 lt" style="line-height: 30px; border-bottom: 1px solid #e2e2e2">
                1731223728@qq.com
            </div>
            <!--用户公共操作权限-->
            <div class="jzy_w_250 jzy_h_250 lt" style="padding: 10px">
                <div class="jzy_w_80 jzy_h_80 lt br_h_2_hove">
                    <a><p class="jzy_h_30"><img src="../public/images/icon/jbzl.png"></p>基本资料</a>
                </div>

                <div class="jzy_w_80 jzy_h_80 lt br_h_2_hove">
                    <a><p class="jzy_h_30"><img src="../public/images/icon/smrz.png"></p>实名认证</a>
                </div>

                <div class="jzy_w_80 jzy_h_80 lt br_h_2_hove">
                    <a><p class="jzy_h_30"><img src="../public/images/icon/aqsz.png"></p>安全设置</a>
                </div>

                <div class="jzy_w_80 jzy_h_80 lt br_h_2_hove">
                    <a><p class="jzy_h_30"><img src="../public/images/icon/fxgk.png"></p>风险管控</a>
                </div>

                <div class="jzy_w_80 jzy_h_80 lt br_h_2_hove">
                    <a><p class="jzy_h_30"><img src="../public/images/icon/fwkz.png"></p>访问控制</a>
                </div>

                <div class="jzy_w_80 jzy_h_80 lt br_h_2_hove">
                    <a><p class="jzy_h_30"><img src="../public/images/icon/api.png"></p>API接口</a>
                </div>

                <div class="jzy_w_80 jzy_h_80 lt br_h_2_hove">
                    <a><p class="jzy_h_30"><img src="../public/images/icon/hyqy.png"></p>会员权益</a>
                </div>

                <div class="jzy_w_80 jzy_h_80 lt br_h_2_hove">
                    <a><p class="jzy_h_30"><img src="../public/images/icon/hyjf.png"></p>会员积分</a>
                </div>

                <div class="jzy_w_80 jzy_h_80 lt br_h_2_hove">
                    <a><p class="jzy_h_30"><img src="../public/images/icon/wjgl.png"></p>文件管理</a>
                </div>
            </div>
            <!--退出登录-->
            <div class="jzy_w_max jzy_h_42 lt br_h_9" style="background: #f5f5f6; line-height: 45px"><a
                    href="../login.html">退出管理控制台</a></div>
        </div>
    </div>

    <!--菜单2-->
    <div class="jzy_w_90 jzy_h_50 br_12 br_11_hove rt top-txt">
        <a class="cr_h_0 fs_14">语言选择</a>
        <!-- 头像下拉菜单 -->
        <div class="jzy_w_90 br_h_0 top_nav nav2">
            <p class="p"><a href="">简体中文</a></p>
            <p class="p"><a href="">English</a></p>
        </div>
    </div>

    <!--菜单3-->
    <div class="jzy_w_90 jzy_h_50 br_12 br_11_hove rt top-txt">
        <a class="cr_h_0 fs_14">权限设置</a>
        <!-- 头像下拉菜单 -->
        <div class="jzy_w_90 br_h_0 top_nav nav2">
            <p class="p"><a href="">新建权限</a></p>
            <p class="p"><a href="">角色列表</a></p>
            <p class="p"><a href="">部门管理</a></p>
        </div>
    </div>

</div>

<!--左侧主导航-->
<div class="jzy_w_180 lt main_height main_left nav" style="background: #333744">

    <div class="nav-top">
        <div id="mini" style="background: #4a5064; text-align: center"><img src="../public/images/icon/suofang.png"
                                                                            width="20"></div>
    </div>
    <ul>
        <li class="nav-item">
            <a href="javascript:;"><i class="my-icon nav-icon icon_1"></i><span>新闻模块</span><i
                    class="my-icon nav-more"></i></a>
            <ul>
                <li><a href="adm_news.html"><span>新闻</span></a></li>
                <li><a href="adm_character.html"><span>人物</span></a></li>
                <li><a href="adm_military.html"><span>军事</span></a></li>
                <li><a href="adm_history.html"><span>史实</span></a></li>
            </ul>
        </li>
        <li class="nav-item">
            <a href="javascript:"><i class="my-icon nav-icon icon_1"></i><span>基地模块</span><i
                    class="my-icon nav-more"></i></a>
            <ul>
                <li><a href="../基地/base_add.html"><span>新增景点</span></a></li>
                <li><a href="../基地/adm_base.html"><span>查看景点</span></a></li>
            </ul>
        </li>
        <li class="nav-item">
            <a href="javascript:"><i class="my-icon nav-icon icon_1"></i><span>学习模块</span><i
                    class="my-icon nav-more"></i></a>
            <ul>
                <li><a href="../学习/adm_exam.html"><span>答题</span></a></li>
                <li><a href="../学习/adm_literature.html"><span>书籍</span></a></li>
                <li><a href="../学习/adm_teleplay.html"><span>电视</span></a></li>
                <li><a href="../tmp/adm_film.html"><span>电影</span></a></li>
            </ul>
        </li>
    </ul>
</div>

<!--左侧次导航-->
<div class="jzy_w_180 lt main_height main_nav" style="background: #D9DEE4">
    <div class="jzy_w_150 jzy_h_70 fs_13 lt" style="font-weight: bold; line-height: 70px;padding-left: 30px">新闻文章管理
    </div>
    <div class="jzy_w_180 fs_13 lt main_height2" style="background: #EAEDF1;">
        <div class="jzy_w_130 jzy_h_40 fs_12 lt" style="line-height: 40px;padding-left: 50px"><a href="news_add.html">新增文章</a>
        </div>
        <div class="jzy_w_130 jzy_h_40 fs_12 lt" style="line-height: 40px;padding-left: 50px"><a href="adm_news.html">文章列表</a>
        </div>
    </div>
</div>

<!--主内容框架-->
<div class="main_height main_index lt" style="background: #f2f4f8;">
    <div class="layui-btn-group demoTable jzy_w_max br_h_0 tabTop">
        <span>新闻文章列表</span>
    </div>
    <table id="demo" lay-filter="demo"></table>
</div>

<script type="text/javascript" src="../public/js/nav.js"></script>
<!-- 这里的 checked 的状态只是演示 -->
<script type="text/html" id="switchTpl">
    <input type="checkbox" name="sex" value="{{d.status}}" lay-skin="switch" lay-text="开启|关闭" lay-filter="statusDemo" {{
           d.status== 1 ? 'checked' : '' }}>
</script>
<!-- 这里的 操作 的html插入演示 -->
<script type="text/html" id="barDemo">
    <a class="layui-btn layui-btn-normal layui-btn-xs" lay-event="edit">编辑</a>
    <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
</script>

<script>
    layui.use(['form', 'table', 'laydate', 'tree'], function () {
        var table = layui.table
            , form = layui.form
            , laydate = layui.laydate;

        // 左侧菜单
        // layui.tree({
        //     elem: '#demo2'
        //     ,nodes: [{ //节点
        //         name: '广东省'
        //         ,children: [{
        //         name: '子节点11'
        //         },{
        //         name: '子节点12'
        //         }]
        //     },{
        //         name: '湖南省'
        //         ,children: [{
        //         name: '子节点21'
        //         ,children: [{
        //             name: '子节点211'
        //         }]
        //         }]
        //     }]
        //     ,click: function(node){
        //         console.log(node) //node即为当前点击的节点数据
        //     }
        // });

        //日期
        // laydate.render({
        //   elem: '#date'
        // });

        // 开启一个数据表格
        table.render({
            elem: '#demo'
            , url: 'http://localhost:8080/hqx_newsview/articles?part=news&num=0' //数据接口
            , page: true //开启分页
            , limit: 10 //默认分页条数
            , height: 'full-200' //高度最大化
            , cols: [
                [ //表头
                    {type: 'checkbox'} // 开启多选框
                    , {field: 'id', title: 'ID', width: '5%', sort: true}
                    // ,{field: 'title', title: '标题', width:'30%', edit: 'text'}
                    , {field: 'title', title: '标题', width: '30%', edit: 'text'}
                    , {field: 'type', title: '来源', width: '10%', edit: 'text'}
                    , {field: 'htmlUrl', title: '文件路径', width: '10%', edit: 'text'}
                    , {field: 'picUrl', title: '图片路径', width: '10%', edit: 'text'}
                    // ,{field: 'recommend', title: '是否推荐', width:80, templet: '#switchTpl', unresize: false}
                    , {field: 'recommend', title: '推荐状态', width: '7%', edit: 'text'}
                    , {field: 'count', title: '浏览数', width: '6%', sort: true}
                    , {field: 'operation', title: '操作', width: '10%', align: 'center', toolbar: '#barDemo'}
                ]
            ]
            // 默认数据
            , data: [
                {
                    "id": "1",
                    "title": "习近平同蒙古国总统巴特图勒嘎举行会谈",
                    "type": "人民网-国际频道",
                    "htmlUrl": "1.html",
                    "picUrl": "1.1.jpg",
                    "recommend": "头条",
                    "count": "8"
                }
            ]
        });

        // 监听数据表格中的单元格编辑
        table.on('edit(demo)', function (obj) {
            layer.confirm("确认修改信息吗？", {
                title: false,
                btn: ['确定', '取消']
            }, function () {
                var value = obj.value; //得到修改后的值
                var data = obj.data; //得到所在行所有键值
                var field = obj.field; //得到字段
                layer.msg('[ID: ' + data.id + '] ' + field + ' 字段更改为：' + value);
            }, function () {
                layer.alert("取消");
            });
        });

        // 监听状态操作
        // form.on('switch(statusDemo)', function(obj){
        //   layer.tips(this.value + ' ' + this.name + '：'+ obj.elem.checked, obj.othis);
        // });


        var $ = layui.$, active = {
            getCheckData: function () { //获取选中数据
                var checkStatus = table.checkStatus('demo')
                    , data = checkStatus.data;
                layer.alert(JSON.stringify(data));
            }
            , getCheckLength: function () { //获取选中数目
                var checkStatus = table.checkStatus('demo')
                    , data = checkStatus.data;
                layer.msg('选中了：' + data.length + ' 个');
            }
            , isAll: function () { //验证是否全选
                var checkStatus = table.checkStatus('demo');
                layer.msg(checkStatus.isAll ? '全选' : '未全选')
            }
        };
        $('.jzy_tab_main .layui-btn').on('click', function () {
            var type = $(this).data('type');
            active[type] ? active[type].call(this) : '';
        });

    });


</script>


</body>
</html>
