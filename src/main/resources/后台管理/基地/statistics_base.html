<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no">
    <title>基地概况</title>
    <link rel="stylesheet" type="text/css" href="../public/layui/css/layui.css">
    <link href="../public/css/common.css" type="text/css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="../public/css/nav.css">
    <link rel="stylesheet" type="text/css" href="../public/css/iconfont.css">
    <script src="../public/js/jquery-3.2.1.min.js"></script>
    <script src="../public/layui/layui.js"></script>
    <script src="../public/js/alert.js"></script>
    <script src="../public/js/echarts.min.js"></script>
</head>
<style>
    .grid-demo2 {
        text-align: center;
    }

    .grid-demo, .grid-demo3 {
        padding: 10px;
        height: 63px;
        line-height: 43px;
        text-align: center;
        background-color: #fff;
        color: #333;
        text-align: left;
        font-size: 16px;
        -ms-box-shadow: 0 1px 3px 0px rgba(0, 0, 0, 0.2);
        -o-box-shadow: 0 1px 3px 0px rgba(0, 0, 0, 0.2);
        -moz-box-shadow: 0 1px 3px 0px rgba(0, 0, 0, 0.2);
        -webkit-box-shadow: 0 1px 3px 0px rgba(0, 0, 0, 0.2);
        box-shadow: 0 1px 3px 0px rgba(0, 0, 0, 0.2);
    }

    .grid-demo3 {
        height: 380px;
    }

    .grid-demo .t1 {
        font-weight: 600
    }

    .grid-demo .t2 {
        font-size: 12px;
        margin-top: -20px;
        display: block;
        color: #999
    }

    @media screen and (max-width: 1440px) {
        .grid-demo-bg1 img {
            display: none
        }
    }
</style>
<style>
    .top-chart-warpper{
        height: 48%; width: 100%;
    }
    .bottom-chart-warpper{
        height: 48%; width: 100%; margin-top: 2%;
    }
    .chart-title{
        height: 30px; width: 100%; line-height: 30px; font-weight: bold
    }
    .chart-content {
        width: 100%;
        margin-top: 5px;
    }
    .chart-label-txt{
        display: inline-block; width: 48%; height: 20px; line-height: 20px;font-size: 14px;margin-top: 2px;overflow: hidden;
    }
</style>
<body>
<!-- 头部导航 -->
<div class="jzy_w_max jzy_h_50 br_12">
    <!-- LOGO -->
    <div class="jzy_w_50 jzy_h_50 br_12 br_11_hove lt logo">
        <a href=""><img src="../public/images/aliyun.png"></a>
    </div>
    <!--菜单1-->
    <div class="jzy_w_90 jzy_h_50 br_12 br_11_hove lt top-txt">
        <a class="cr_h_0 fs_14" href="">管理控制台</a>
    </div>

    <!--头像-->
    <div class="jzy_w_50 jzy_h_50 br_12 br_11_hove rt top-txt logo">
        <img class="jzy_boy_18" src="../public/images/touxiang.jpg" style="width: 36px; height: 36px">
        <!-- 头像下拉菜单 -->
        <div class="jzy_w_270 jzy_h_408 br_h_0 top_nav">
            <!--头像跟用户名-->
            <div class="jzy_w_max jzy_h_50 lt" style="margin-top: 15px">
                <img class="jzy_boy_18" src="../public/images/touxiang.jpg" style="width: 36px; height: 36px">
            </div>
            <div class="jzy_w_max jzy_h_30 lt" style="line-height: 30px; border-bottom: 1px solid #e2e2e2">
                1731223728@qq.com
            </div>
            <!--用户公共操作权限-->
            <div class="jzy_w_250 jzy_h_250 lt" style="padding: 10px">
                <div class="jzy_w_80 jzy_h_80 lt br_h_2_hove">
                    <a><p class="jzy_h_30"><img src="../public/images/icon/jbzl.png"></p>基本资料</a>
                </div>

                <div class="jzy_w_80 jzy_h_80 lt br_h_2_hove">
                    <a><p class="jzy_h_30"><img src="../public/images/icon/smrz.png"></p>实名认证</a>
                </div>

                <div class="jzy_w_80 jzy_h_80 lt br_h_2_hove">
                    <a><p class="jzy_h_30"><img src="../public/images/icon/aqsz.png"></p>安全设置</a>
                </div>

                <div class="jzy_w_80 jzy_h_80 lt br_h_2_hove">
                    <a><p class="jzy_h_30"><img src="../public/images/icon/fxgk.png"></p>风险管控</a>
                </div>

                <div class="jzy_w_80 jzy_h_80 lt br_h_2_hove">
                    <a><p class="jzy_h_30"><img src="../public/images/icon/fwkz.png"></p>访问控制</a>
                </div>

                <div class="jzy_w_80 jzy_h_80 lt br_h_2_hove">
                    <a><p class="jzy_h_30"><img src="../public/images/icon/api.png"></p>API接口</a>
                </div>

                <div class="jzy_w_80 jzy_h_80 lt br_h_2_hove">
                    <a><p class="jzy_h_30"><img src="../public/images/icon/hyqy.png"></p>会员权益</a>
                </div>

                <div class="jzy_w_80 jzy_h_80 lt br_h_2_hove">
                    <a><p class="jzy_h_30"><img src="../public/images/icon/hyjf.png"></p>会员积分</a>
                </div>

                <div class="jzy_w_80 jzy_h_80 lt br_h_2_hove">
                    <a><p class="jzy_h_30"><img src="../public/images/icon/wjgl.png"></p>文件管理</a>
                </div>
            </div>
            <!--退出登录-->
            <div class="jzy_w_max jzy_h_42 lt br_h_9" style="background: #f5f5f6; line-height: 45px"><a
                    href="../login.html">退出管理控制台</a></div>
        </div>
    </div>

    <!--菜单2-->
    <div class="jzy_w_90 jzy_h_50 br_12 br_11_hove rt top-txt">
        <a class="cr_h_0 fs_14">语言选择</a>
        <!-- 头像下拉菜单 -->
        <div class="jzy_w_90 br_h_0 top_nav nav2">
            <p class="p"><a href="">简体中文</a></p>
            <p class="p"><a href="">English</a></p>
        </div>
    </div>

    <!--菜单3-->
    <div class="jzy_w_90 jzy_h_50 br_12 br_11_hove rt top-txt">
        <a class="cr_h_0 fs_14">权限设置</a>
        <!-- 头像下拉菜单 -->
        <div class="jzy_w_90 br_h_0 top_nav nav2">
            <p class="p"><a href="">新建权限</a></p>
            <p class="p"><a href="">角色列表</a></p>
            <p class="p"><a href="">部门管理</a></p>
        </div>
    </div>
</div>

<!--左侧主导航-->
<div class="jzy_w_180 lt main_height main_left nav" style="background: #333744">
    <div class="nav-top">
        <div id="mini" style="background: #4a5064; text-align: center">
            <img src="../public/images/icon/suofang.png" width="20">
        </div>
    </div>
    <ul>
        <li class="nav-item">
            <a href="javascript:"><i class="my-icon nav-icon icon_1"></i><span>新闻模块</span><i
                    class="my-icon nav-more"></i></a>
            <ul>
                <li><a href="../新闻/adm_news.html"><span>新闻</span></a></li>
                <li><a href="../新闻/adm_character.html"><span>人物</span></a></li>
                <li><a href="../新闻/adm_military.html"><span>军事</span></a></li>
                <li><a href="../新闻/adm_history.html"><span>史实</span></a></li>
            </ul>
        </li>
        <li class="nav-item">
            <a href="javascript:"><i class="my-icon nav-icon icon_1"></i><span>基地模块</span><i
                    class="my-icon nav-more"></i></a>
            <ul>
                <!--<li><a href="add_base.html"><span>新增景点</span></a></li>-->
                <li><a href="adm_base.html"><span>基地</span></a></li>
            </ul>
        </li>
        <li class="nav-item">
            <a href="javascript:"><i class="my-icon nav-icon icon_1"></i><span>学习模块</span><i
                    class="my-icon nav-more"></i></a>
            <ul>
                <li><a href="../学习/adm_exam.html"><span>答题</span></a></li>
                <li><a href="../学习/adm_book.html"><span>书籍</span></a></li>
                <li><a href="../学习/adm_teleplay.html"><span>电视</span></a></li>
                <li><a href="../学习/adm_film.html"><span>电影</span></a></li>
                <li><a href="../学习/adm_variety.html"><span>综艺</span></a></li>
                <li><a href="../学习/adm_documentary.html"><span>纪录片</span></a></li>
                <li><a href="../学习/adm_drama.html"><span>歌舞剧</span></a></li>
            </ul>
        </li>
    </ul>
</div>

<!--左侧次导航-->
<div class="jzy_w_180 lt main_height main_nav" style="background: #D9DEE4">
    <div class="jzy_w_150 jzy_h_70 fs_13 lt" style="font-weight: bold; line-height: 70px;padding-left: 30px">基地系统</div>
    <div class="jzy_w_180 fs_13 lt main_height2" style="background: #EAEDF1;">
        <div class="jzy_w_130 jzy_h_40 fs_12 br_h_0 lt" style="line-height: 40px;padding-left: 50px">
            <a href="">基地概况</a>
        </div>
        <div class="jzy_w_130 jzy_h_40 fs_12 lt" style="line-height: 40px;padding-left: 50px">
            <a href="add_base.html">新增基地</a>
        </div>
        <div class="jzy_w_130 jzy_h_40 fs_12 lt" style="line-height: 40px;padding-left: 50px">
            <a href="adm_base.html">基地列表</a>
        </div>
    </div>
</div>

<!--主内容框架-->
<div class="main_height main_index lt" style="background: #f2f4f8;">
    <!--4个数据统计-->
    <div class="layui-row layui-col-space10" style="padding: 10px">
        <div class="layui-col-md3">
            <div class="grid-demo ">
                <div class="layui-col-md4 grid-demo2"><img src="../public/images/icon/huiyuan.png"></div>
                <div class="layui-col-md5"><span class="t1">1</span><br/><span class="t2">用户总数</span></div>
            </div>
        </div>
        <div class="layui-col-md3">
            <div class="grid-demo ">
                <div class="layui-col-md4 grid-demo2"><img src="../public/images/icon/huoyuedu.png"></div>
                <div class="layui-col-md5"><span class="t1">8</span><br/><span class="t2">基地总数</span></div>
            </div>
        </div>
        <div class="layui-col-md3">
            <div class="grid-demo ">
                <div class="layui-col-md4 grid-demo2"><img src="../public/images/icon/yichang.png"></div>
                <div class="layui-col-md5"><span class="t1">0</span><br/><span class="t2">异常警告</span></div>
            </div>
        </div>
        <div class="layui-col-md3">
            <div class="grid-demo ">
                <div class="layui-col-md4 grid-demo2"><img src="../public/images/icon/shouru.png"></div>
                <div class="layui-col-md5"><span class="t1">15</span><br/><span class="t2">浏览次数</span></div>
            </div>
        </div>
    </div>

    <div class="layui-tab layui-tab-card" style="width: 100%">
        <ul class="layui-tab-title">
            <li class="layui-this" onclick="showWeek()">七天内</li>
            <li onclick="showMonth()">本月</li>
            <li onclick="showYear()">本年</li>
        </ul>
        <div id="week-content" class="layui-row layui-col-space10" style="padding: 10px;">
                    <!--统计图-->
                    <div class="layui-col-md8">
                        <div class="grid-demo3">
                            <div style="width: 100%; height: 350px;" id="chart_week_1"></div>
                        </div>
                    </div>
                    <!--排行榜-->
                    <div class="layui-col-md4">
                        <div class="grid-demo3">
                            <!--排行榜-->
                            <div class="top-chart-warpper">
                                <div class="chart-title">浏览量前十:</div>
                                <div id="week-top" class="chart-content"></div>
                            </div>
                            <div class="bottom-chart-warpper">
                                <div class="chart-title">浏览量后十:</div>
                                <div id="week-bottom" class="chart-content"></div>
                            </div>
                        </div>
                    </div>
                </div>
        <div id="month-content" class="layui-row layui-col-space10" style="padding: 10px; display: none">
                    <!--统计图-->
                    <div class="layui-col-md8">
                        <div class="grid-demo3">
                            <div style="width: 100%; height: 350px;" id="chart_month_1"></div>
                        </div>
                    </div>
                    <!--排行榜-->
                    <div class="layui-col-md4">
                        <div class="grid-demo3">
                            <!--排行榜-->
                            <div class="top-chart-warpper">
                                <div class="chart-title">浏览量前十:</div>
                                <div id="month-top" class="chart-content"></div>
                            </div>
                            <div class="bottom-chart-warpper">
                                <div class="chart-title">浏览量后十:</div>
                                <div id="month-bottom" class="chart-content"></div>
                            </div>
                        </div>
                    </div>
                </div>
        <div id="year-content" class="layui-row layui-col-space10" style="padding: 10px; display: none">
            <div class="layui-col-md8">
                <div class="grid-demo3">
                    <div class="jzy_w_max jzy_h_350" id="chart_year_1"></div>
                </div>
            </div>
            <div class="layui-col-md4">
                <div class="grid-demo3">
                    <!--排行榜-->
                    <div class="top-chart-warpper">
                        <div class="chart-title">浏览量前十:</div>
                        <div id="year-top" class="chart-content"></div>
                    </div>
                    <div class="bottom-chart-warpper">
                        <div class="chart-title">浏览量后十:</div>
                        <div id="year-bottom" class="chart-content"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript" src="../public/js/nav.js"></script>

<script>
    layui.use('element', function(){
        element = layui.element;
    });

    var isMonth = false;
    var isYear = false;

    //排行榜
    var weekTopChart = null;
    var weekBottomChart = null;
    var monthTopChart = null;
    var monthBottomChart = null;
    var yearTopChart = null;
    var yearBottomChart = null;

    var weekData = null;
    var monthData = null;
    var yearData = null;

    var weekOption = null;
    var monthOption = null;
    var yearOption = null;

    init();
    function init() {
        //获取周排行榜
        $.ajax({
            type: "POST",
            url: serverIp + "manage/chart", // 后端服务器上传地址
            data: {
                model:"base",
                part: null,
                time: 'week',
                type: 0
            },
            async: false, // 是否异步执行
            success: function (rs) {
                weekTopChart = rs.data["all"];
            },
            error: function () {}
        });
        $.ajax({
            type: "POST",
            url: serverIp + "manage/chart", // 后端服务器上传地址
            data: {
                model:"base",
                part: null,
                time: 'week',
                type: 1
            },
            async: false, // 是否异步执行
            success: function (rs) {
                weekBottomChart = rs.data["all"];
            },
            error: function () {}
        });
        //获取月排行榜
        $.ajax({
            type: "POST",
            url: serverIp + "manage/chart", // 后端服务器上传地址
            data: {
                model:"base",
                part: null,
                time: 'month',
                type: 0
            },
            async: false, // 是否异步执行
            success: function (rs) {
                monthTopChart = rs.data["all"];
            },
            error: function () {}
        });
        $.ajax({
            type: "POST",
            url: serverIp + "manage/chart", // 后端服务器上传地址
            data: {
                model:"base",
                part: null,
                time: 'month',
                type: 1
            },
            async: false, // 是否异步执行
            success: function (rs) {
                monthBottomChart = rs.data["all"];
            },
            error: function () {}
        });
        //获取年排行榜
        $.ajax({
            type: "POST",
            url: serverIp + "manage/chart", // 后端服务器上传地址
            data: {
                model:"base",
                part: null,
                time: 'year',
                type: 0
            },
            async: false, // 是否异步执行
            success: function (rs) {
                yearTopChart = rs.data["all"];
            },
            error: function () {}
        });
        $.ajax({
            type: "POST",
            url: serverIp + "manage/chart", // 后端服务器上传地址
            data: {
                model:"base",
                part: null,
                time: 'year',
                type: 1
            },
            async: false, // 是否异步执行
            success: function (rs) {
                yearBottomChart = rs.data["all"];
            },
            error: function () {}
        });
        addChart("week", "top", weekTopChart);
        addChart("week", "bottom", weekBottomChart);
        addChart("month", "top", monthTopChart);
        addChart("month", "bottom", monthBottomChart);
        addChart("year", "top", yearTopChart);
        addChart("year", "bottom", yearBottomChart);

        //获取周 月 年总浏览数据
        $.ajax({
            type: "POST",
            url: serverIp + "manage/count", // 后端服务器上传地址
            data: {
                model:"base",
                part: null,
                time: 'week'
            },
            async: false, // 是否异步执行
            success: function (rs) {
                weekData = rs.data;
            },
            error: function () {}
        });
        $.ajax({
            type: "POST",
            url: serverIp + "manage/count", // 后端服务器上传地址
            data: {
                model:"base",
                part: null,
                time: 'month'
            },
            async: false, // 是否异步执行
            success: function (rs) {
                monthData = rs.data;
            },
            error: function () {}
        });
        $.ajax({
            type: "POST",
            url: serverIp + "manage/count", // 后端服务器上传地址
            data: {
                model:"base",
                part: null,
                time: 'year'
            },
            async: false, // 是否异步执行
            success: function (rs) {
                yearData = rs.data;
            },
            error: function () {}
        });
        weekOption = {
            title: {text: '七天内浏览量'},
            tooltip: {trigger: 'axis'},
            legend: {
                left: 130,
                data: ['浏览量']
            },
            toolbox: {
                show: true,
                feature: {
                    dataZoom:{
                        show: true,
                        zoomOnMouseWheel:true,                  //如何触发缩放。可选值为：true：表示不按任何功能键，鼠标滚轮能触发缩放。false：表示鼠标滚轮不能触发缩放。'shift'：表示按住 shift 和鼠标滚轮能触发缩放。'ctrl'：表示按住 ctrl 和鼠标滚轮能触发缩放。'alt'：表示按住 alt 和鼠标滚轮能触发缩放。
                        moveOnMouseMove:true,                   //如何触发数据窗口平移。true：表示不按任何功能键，鼠标移动能触发数据窗口平移。false：表示鼠标滚轮不能触发缩放。'shift'：表示按住 shift 和鼠标移动能触发数据窗口平移。'ctrl'：表示按住 ctrl 和鼠标移动能触发数据窗口平移。'alt'：表示按住 alt 和鼠标移动能触发数据窗口平移。
                        yAxisIndex:false,                        //设置 dataZoom-inside 组件控制的 y轴,可以用数组表示多个轴
                    },
                    mark: {show: true},
                    dataView: {
                        show: true,
                        readOnly: true,
                        optionToContent: function(opt){
                            var value = opt.series[0].data;
                            var time = opt.xAxis[0].data;
                            var table = '<table class="layui-table" style="width:100%;text-align:center"><tbody>'
                            table += '<tr><td>日期</td><td>浏览量</td></tr>';
                            for(var i = 0; i < value.length; i++) {
                                table += '<tr><td>'+time[i]+'</td><td>'+value[i]+'</td></tr>';
                            }
                            table += '</tbody></table>';
                            return table;
                        }
                    },
                    magicType: {show: true, type: ['line', 'bar']},//
                    restore: {},
                    saveAsImage: {show: true}
                }
            },
            calculable: true,
            xAxis: [
                {
                    type: 'category',
                    boundaryGap: false,
                    data: getDateList(weekData),
                    axisTick:{
                        interval:0
                    },
                    axisLabel:{
                        show:true,
                        interval:0,
                        formatter:function (value) {
                            var date = new Date(value);
                            var texts = (date.getMonth() + 1) + "月" + date.getDate()  + "日";
                            return texts;
                        }
                    }
                }
            ],
            yAxis: [{type: 'value'}],
            series: [
                {
                    name: '浏览量',
                    type: 'line',
                    smooth: true,
                    itemStyle: {normal: {areaStyle: {type: 'default'}}},
                    data: getValueList(weekData),
                }
            ]
        };
        monthOption = {
            title: {text: '一个月浏览量'},
            tooltip: {trigger: 'axis'},
            legend: {
                left: 130,
                data: ['浏览量']
            },
            toolbox: {
                show: true,
                feature: {
                    dataZoom:{
                        show: true,
                        zoomOnMouseWheel:true,                  //如何触发缩放。可选值为：true：表示不按任何功能键，鼠标滚轮能触发缩放。false：表示鼠标滚轮不能触发缩放。'shift'：表示按住 shift 和鼠标滚轮能触发缩放。'ctrl'：表示按住 ctrl 和鼠标滚轮能触发缩放。'alt'：表示按住 alt 和鼠标滚轮能触发缩放。
                        moveOnMouseMove:true,                   //如何触发数据窗口平移。true：表示不按任何功能键，鼠标移动能触发数据窗口平移。false：表示鼠标滚轮不能触发缩放。'shift'：表示按住 shift 和鼠标移动能触发数据窗口平移。'ctrl'：表示按住 ctrl 和鼠标移动能触发数据窗口平移。'alt'：表示按住 alt 和鼠标移动能触发数据窗口平移。
                        yAxisIndex:false,                        //设置 dataZoom-inside 组件控制的 y轴,可以用数组表示多个轴
                    },
                    mark: {show: true},
                    dataView: {
                        show: true,
                        readOnly: true,
                        optionToContent: function(opt){
                            var value = opt.series[0].data;
                            var time = opt.xAxis[0].data;
                            var table = '<table class="layui-table" style="width:100%;text-align:center"><tbody>'
                            table += '<tr><td>日期</td><td>浏览量</td></tr>';
                            for(var i = 0; i < value.length; i++) {
                                table += '<tr><td>'+time[i]+'</td><td>'+value[i]+'</td></tr>';
                            }
                            table += '</tbody></table>';
                            return table;
                        }
                    },
                    magicType: {show: true, type: ['line', 'bar']},
                    restore: {},
                    saveAsImage: {show: true}
                }
            },
            calculable: true,
            xAxis: [
                {
                    type: 'category',
                    boundaryGap: false,
                    data: getDateList(monthData),
                    axisLabel:{
                        show:true,
                        formatter:function (value) {
                            var date = new Date(value);
                            var texts = [(date.getMonth() + 1), date.getDate()];
                            return texts.join('-');
                        }
                    }
                }
            ],
            yAxis: [{type: 'value'}],
            series: [
                {
                    name: '浏览量',
                    type: 'line',
                    smooth: true,
                    itemStyle: {normal: {areaStyle: {type: 'default'}}},
                    data: getValueList(monthData),
                }
            ]
        };
        yearOption = {
            title: {text: '一个年浏览量'},
            tooltip: {trigger: 'axis'},
            legend: {
                left: 130,
                data: ['浏览量']
            },
            toolbox: {
                show: true,
                feature: {
                    dataZoom:{
                        show: true,
                        zoomOnMouseWheel:true,                  //如何触发缩放。可选值为：true：表示不按任何功能键，鼠标滚轮能触发缩放。false：表示鼠标滚轮不能触发缩放。'shift'：表示按住 shift 和鼠标滚轮能触发缩放。'ctrl'：表示按住 ctrl 和鼠标滚轮能触发缩放。'alt'：表示按住 alt 和鼠标滚轮能触发缩放。
                        moveOnMouseMove:true,                   //如何触发数据窗口平移。true：表示不按任何功能键，鼠标移动能触发数据窗口平移。false：表示鼠标滚轮不能触发缩放。'shift'：表示按住 shift 和鼠标移动能触发数据窗口平移。'ctrl'：表示按住 ctrl 和鼠标移动能触发数据窗口平移。'alt'：表示按住 alt 和鼠标移动能触发数据窗口平移。
                        yAxisIndex:false,                        //设置 dataZoom-inside 组件控制的 y轴,可以用数组表示多个轴
                    },
                    mark: {show: true},
                    dataView: {
                        show: true,
                        readOnly: true,
                        optionToContent: function(opt){
                            var value = opt.series[0].data;
                            var time = opt.xAxis[0].data;
                            var table = '<table class="layui-table" style="width:100%;text-align:center"><tbody>'
                            table += '<tr><td>日期</td><td>浏览量</td></tr>';
                            for(var i = 0; i < value.length; i++) {
                                table += '<tr><td>'+time[i]+'</td><td>'+value[i]+'</td></tr>';
                            }
                            table += '</tbody></table>';
                            return table;
                        }
                    },
                    magicType: {show: true, type: ['line', 'bar']},//
                    restore: {},
                    saveAsImage: {show: true}
                }
            },
            calculable: true,
            xAxis: [
                {
                    type: 'category',
                    boundaryGap: false,
                    data: getDateList(yearData),
                    axisLabel:{
                        show:true,
                        formatter:function (value) {
                            var date = new Date(value);
                            var texts = (date.getMonth() + 1) + "月" + date.getDate()  + "日";
                            return texts;
                        }
                    }
                }
            ],
            yAxis: [{type: 'value'}],
            series: [
                {
                    name: '浏览量',
                    type: 'line',
                    smooth: true,
                    itemStyle: {normal: {areaStyle: {type: 'default'}}},
                    data: getValueList(yearData),
                }
            ]
        };

        weekChart = echarts.init(document.getElementById('chart_week_1'));
        weekChart.setOption(weekOption);
    }

    function showWeek() {
        $("#week-content").show();
        $("#month-content").hide();
        $("#year-content").hide();
    }

    function showMonth() {
        $("#week-content").hide();
        $("#month-content").show();
        $("#year-content").hide();
        if(!isMonth){
            isMonth = true;
            monthChart = echarts.init(document.getElementById('chart_month_1'));
            monthChart.setOption(monthOption);
        }
    }

    function showYear() {
        $("#week-content").hide();
        $("#month-content").hide();
        $("#year-content").show();
        if(!isYear){
            isYear = true;
            yearChart = echarts.init(document.getElementById('chart_year_1'));
            yearChart.setOption(yearOption);
        }
    }

    //获取数据中的日期列表
    function getDateList(data) {
        var dateList = [];
        for(var i = 0; i < data.length; i++) {
            dateList.push(data[i].time);
        }
        return dateList;
    }

    //获取数据中的数据列表
    function getValueList(data) {
        var valueList = [];
        for(var i = 0; i < data.length; i++) {
            valueList.push(data[i].count);
        }
        return valueList;
    }

    //添加排行榜
    function addChart(time, part, list) {
        $("#" + time + "-" + part).html("");
        for(var i = 0; i < list.length; i++) {
            $("#" + time + "-" + part).append('<div class="chart-label-txt">' + (i + 1) + '.' + list[i] + '</div>')
        }
    }
</script>
</body>
</html>
